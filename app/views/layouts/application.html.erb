<!DOCTYPE html>
<html>
<style>
body
{
  /* background-color: #e3f2fd */
  
}
h3 {
    color:white;
}
.navbar.navbar-expand-lg.mb-4{
	margin-bottom: 0 !important;/
	/* padding-bottom: 0 !important; */
  /* border: 0 !important; */
}
/* #date
{
  display: none;
} */
</style>
  <head>
    <title>Blogspot</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
 <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>   
  </head>
  <body>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">   
 <script src="http://code.jquery.com/jquery-latest.js"></script> 
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> 

 <%
=begin%>
 <script>
          $(document).ready(function() {
                $('#date').load("http://127.0.0.1:3000/date");
                      setInterval(function() {
                $('#date').load("http://127.0.0.1:3000/date");
                      },10000);
          });
 </script>    
<%
=end%>
<% unless @disable_nav %>
    <nav class="navbar navbar-expand-lg mb-4" style="background-color:	#ffd700;">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <li><h2><%= link_to "Dashboard", root_path, class: "navbar-brand" %></h2></li>
        </li>
        <li class="nav-item">
          <%
=begin%>
 <%= turbo_frame_tag current_user.blogs.build do %> 
<%
=end%>
          <li><h2><%= link_to "Create a Blog", new_blog_path, class: "navbar-brand" %></h2></li>
          <%
=begin%>
 <% end %> 
<%
=end%>
        </li>
        <li class="nav-item">
          <% if user_signed_in? %>
        <li><h2><%= link_to "Sign Out", destroy_user_session_path, data: { turbo_method: :Deletd }, class: "navbar-brand" %></h2></li>
        <% else %> 
        <li><h2><%= link_to "Sign Up", new_user_registration_path, class: "navbar-brand" %></h2></li>
        <li><h2><%= link_to "Log In", new_user_session_path, class: "navbar-brand" %></h2></li>
        <% end %>
        </li>
        <li class="nav-item">
        <li id="date">
        <h3></h3></li></li>

        <%
=begin%>
 <div id="button">
          <button type="button" class="btn btn-primary" onclick="myFunction()">Primary
          </button>
            <script>
            function myFunction() {
            document.getElementById("demo").innerHTML = "Hello";
            } 
          </script> 
<%
=end%>


          <%
=begin%>
 <div id="container"></div>
            <script>
            const xhr = new XMLHttpRequest();
            const container = document.getElementById('#conatiner');
            xhr.onload = function()
            {
              if(this.status == 200)
              {
                container.innerHTML = xhr.responseText;
              }
              else
              {
                console.warn("Error")
              }
            };
            xhr.open('get', 'app/views/date.html.erb')
            xhr.send();
          </script> 
<%
=end%>

      </ul>
      <form class="d-flex" role="search" method = 'GET' action = "/search">
      <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="key">
      <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
    </div>
  </div>
</nav>
<%
=begin%>
 <p id="demo"></p> 
<%
=end%>
<%
=begin%>
 <p class="notice"><%= notice %></p>
       <p class="alert"><%= alert %></p> 
<%
=end%>
<% end %>
    <%= yield %>
       
  </body>
</html>
